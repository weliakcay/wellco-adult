# Blog System & AI Agent Integration

## Overview

The Wellco Adult blog system ("Sexual Wellness 101") is designed to provide educational content about sexual health and wellness. The system is **AI-ready** from day one, meaning it can seamlessly accept and display content generated by AI agents alongside human-written articles.

## Architecture

### Data Layer

#### Blog Posts Storage
- **Location**: `/src/data/blog-posts.json`
- **Format**: JSON file containing all blog posts
- **Structure**:
  ```json
  {
    "posts": [
      {
        "id": "unique-id",
        "slug": "url-friendly-slug",
        "title": "Article Title",
        "excerpt": "Brief summary...",
        "content": "Full markdown content...",
        "category": "egitim|saglik|iliskiler|urun-rehberleri|hijyen",
        "tags": ["tag1", "tag2"],
        "author": "Author Name",
        "authorBio": "Brief bio",
        "viewCount": 1234,
        "readingTime": 5,
        "publishedAt": "2025-01-15T10:00:00.000Z",
        "updatedAt": "2025-01-15T10:00:00.000Z",
        "isPublished": true,
        "isFeatured": false,
        "aiGenerated": false,
        "seo": {
          "metaTitle": "SEO Title",
          "metaDescription": "SEO description..."
        }
      }
    ],
    "metadata": {
      "lastUpdated": "2025-01-15T10:00:00.000Z",
      "totalPosts": 6,
      "aiGenerationEnabled": true,
      "aiProvider": "openai",
      "contentGuidelines": {
        "tone": "educational, supportive, non-judgmental",
        "language": "Turkish",
        "targetAudience": "adults interested in sexual wellness"
      }
    }
  }
  ```

#### Helper Functions
- **Location**: `/src/data/blog.ts`
- **Key Functions**:
  - `getFeaturedPosts(limit)` - Get featured articles
  - `getMostReadPosts(limit)` - Sort by view count
  - `getRecentPosts(limit)` - Sort by publish date
  - `getPostsByCategory(category, limit)` - Filter by category
  - `getPostBySlug(slug)` - Get single post
  - `searchPosts(query)` - Full-text search
  - `getRelatedPosts(post, limit)` - Find similar articles
  - **AI-specific**:
    - `getAIGeneratedPosts()` - Filter AI content
    - `getHumanWrittenPosts()` - Filter human content

### UI Components

#### BlogCard Component
- **Location**: `/src/components/blog/BlogCard.tsx`
- **Features**:
  - Matches product card design system
  - Shows category badge
  - Displays author, date, reading time, view count
  - AI-generated badge (when `aiGenerated: true`)
  - Featured badge (when `isFeatured: true`)
  - Tag display (first 3 tags)
  - Hover effects with gradients
  - Responsive design

#### Blog Pages

1. **Blog List Page** - `/src/app/blog/page.tsx`
   - Featured posts section (top 3)
   - "En Ã‡ok Okunanlar" (Most Read) - 6 posts
   - "Son Eklenenler" (Recent) - 6 posts
   - Category sections (dynamic, 3 posts each)
   - Search functionality
   - Category filters
   - Stats display

2. **Blog Detail Page** - `/src/app/blog/[slug]/page.tsx`
   - Full article display
   - Markdown rendering
   - Breadcrumb navigation
   - Author info
   - Meta info (date, reading time, views)
   - AI/Featured badges
   - Tags
   - Related articles (3)
   - Share button
   - CTA to product categories

3. **Blog Preview (Homepage)** - `/src/components/home/BlogPreview.tsx`
   - Shows 3 featured posts on homepage
   - Links to full blog
   - Matches site design system

## AI Agent Integration

### Current Setup

The blog system is **prepared** for AI content generation but does not currently generate content automatically. This section documents the architecture for future AI integration.

### AI-Ready Features

1. **Content Flag**: Every blog post has an `aiGenerated` boolean field
2. **Metadata Tracking**: JSON includes AI provider and generation settings
3. **Separate Filtering**: Can filter and display AI vs human content separately
4. **Uniform Display**: AI and human content use identical components

### Future AI Integration Plan

#### Phase 1: Manual AI Content Addition
Currently, you can manually add AI-generated content by:
1. Generate content using ChatGPT/Claude
2. Format it to match the BlogPost schema
3. Add to `blog-posts.json` with `aiGenerated: true`
4. Content appears immediately on the site

#### Phase 2: Automated AI Agent (Future)
To implement automated content generation:

1. **Create API Endpoint** (`/api/blog/generate`)
   ```typescript
   // POST /api/blog/generate
   // Body: { topic: string, category: string, targetLength: number }
   // Response: BlogPost object
   ```

2. **AI Agent Service** (`/src/services/ai-blog-agent.ts`)
   ```typescript
   export class BlogAgent {
     constructor(private provider: 'openai' | 'anthropic') {}

     async generatePost(params: {
       topic: string;
       category: string;
       targetLength: number;
       tone?: string;
     }): Promise<BlogPost> {
       // Call AI API
       // Format response
       // Return structured BlogPost
     }

     async schedulePost(post: BlogPost, publishAt: Date) {
       // Add to queue/database
       // Schedule for future publication
     }
   }
   ```

3. **Scheduled Publishing** (Using cron or similar)
   ```typescript
   // scripts/publish-scheduled-posts.ts
   // Runs daily, checks for posts with publishedAt <= now
   // Updates isPublished: true
   ```

4. **Content Queue Management**
   - Store drafts in database (Supabase recommended)
   - Review queue for human approval (optional)
   - Auto-publish or manual approval workflow

### Integration with Supabase (Recommended)

Instead of JSON files, move to Supabase for:

```sql
-- Blog Posts Table
CREATE TABLE blog_posts (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  slug TEXT UNIQUE NOT NULL,
  title TEXT NOT NULL,
  excerpt TEXT,
  content TEXT NOT NULL,
  category TEXT NOT NULL,
  tags TEXT[],
  author TEXT,
  author_bio TEXT,
  view_count INTEGER DEFAULT 0,
  reading_time INTEGER,
  published_at TIMESTAMP,
  updated_at TIMESTAMP DEFAULT NOW(),
  is_published BOOLEAN DEFAULT false,
  is_featured BOOLEAN DEFAULT false,
  ai_generated BOOLEAN DEFAULT false,
  ai_provider TEXT,
  seo JSONB,
  created_at TIMESTAMP DEFAULT NOW()
);

-- Scheduled Posts Queue
CREATE TABLE blog_queue (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  post_data JSONB NOT NULL,
  scheduled_for TIMESTAMP NOT NULL,
  status TEXT DEFAULT 'pending', -- pending, published, failed
  created_at TIMESTAMP DEFAULT NOW()
);
```

### Example AI Content Generation Flow

```typescript
// Example: Generate a new blog post
import { BlogAgent } from '@/services/ai-blog-agent';

const agent = new BlogAgent('openai');

const newPost = await agent.generatePost({
  topic: 'Kegel Egzersizlerinin FaydalarÄ±',
  category: 'saglik',
  targetLength: 1500, // words
  tone: 'educational, supportive'
});

// Option 1: Publish immediately
await saveAndPublish(newPost);

// Option 2: Schedule for later
await agent.schedulePost(newPost, new Date('2025-01-20T10:00:00'));
```

## Content Guidelines for AI

When generating content (manual or automated), follow these guidelines:

### Tone & Style
- **Educational**: Focus on facts and helpful information
- **Supportive**: Non-judgmental, inclusive language
- **Professional**: Medically accurate when discussing health
- **Approachable**: Warm, conversational but not casual

### Structure
- Start with engaging hook
- Use headers (H2, H3) for sections
- Include bullet points for lists
- Keep paragraphs 3-5 sentences
- End with actionable takeaways

### Content Categories

1. **EÄŸitim (Education)**
   - Basic concepts and terminology
   - Anatomy and physiology
   - Sexual health fundamentals

2. **SaÄŸlÄ±k (Health)**
   - Medical information
   - Wellness practices
   - Safety guidelines

3. **Ä°liÅŸkiler (Relationships)**
   - Communication tips
   - Partner dynamics
   - Emotional intimacy

4. **ÃœrÃ¼n Rehberleri (Product Guides)**
   - How to choose products
   - Usage instructions
   - Care and maintenance

5. **Hijyen (Hygiene)**
   - Cleaning and storage
   - Safety practices
   - Product maintenance

### SEO Best Practices
- Title: 50-60 characters
- Meta description: 150-160 characters
- Include target keyword in first paragraph
- Use semantic HTML structure
- Internal links to relevant products/articles

## Automated Update Script

For automated product updates, a similar pattern can be used:

```bash
# /scripts/auto-update-products.sh
#!/bin/bash
echo "ðŸ”„ ÃœrÃ¼n gÃ¼ncelleme baÅŸlÄ±yor..."
npm run update-products
# Optional: commit to git
```

Add to crontab for daily updates:
```bash
# Run daily at 2 AM
0 2 * * * cd /path/to/wellco-adult && ./scripts/auto-update-products.sh
```

## Testing

To test the blog system locally:

1. **View all blogs**: `http://localhost:3002/blog`
2. **View specific post**: `http://localhost:3002/blog/sexual-wellness-nedir`
3. **Homepage preview**: `http://localhost:3002` (scroll to blog section)

## Current Content

The system currently includes 6 comprehensive articles:

1. **Sexual Wellness Nedir?** - 5 min, 2847 views (Featured)
2. **VibratÃ¶r KullanÄ±mÄ± Rehberi** - 7 min, 3521 views (Featured)
3. **Ä°liÅŸkilerde Ä°letiÅŸim** - 8 min, 1876 views (Featured)
4. **Sex OyuncaklarÄ± Hijyen Rehberi** - 6 min, 1432 views
5. **KayganlaÅŸtÄ±rÄ±cÄ± Jel SeÃ§im Rehberi** - 9 min, 987 views
6. **Kegel Egzersizleri Rehberi** - 10 min, 765 views

All content is human-written (`aiGenerated: false`) and production-ready.

## Future Enhancements

1. **Comments System** - Allow user engagement
2. **Like/Save** - User interaction tracking
3. **Newsletter** - Automated email with new posts
4. **RSS Feed** - For blog readers
5. **Multi-language** - English version of content
6. **Video Embedding** - Support for video content
7. **Author Profiles** - Dedicated author pages
8. **Series/Collections** - Group related articles

## Maintenance

### Adding New Content

1. **Manual**: Edit `/src/data/blog-posts.json`
2. **Automated** (future): Use API endpoint
3. **Schema validation**: Ensure all required fields present
4. **Preview**: Test on localhost before deploy

### Updating Existing Content

1. Find post by `id` in JSON
2. Update fields
3. Update `updatedAt` timestamp
4. Rebuild/redeploy

### Content Analytics

Track these metrics (future):
- View count (increment on page load)
- Read time (actual vs. estimated)
- Engagement (scroll depth, time on page)
- Shares and referrals
- Search queries leading to posts

---

**Last Updated**: 2025-01-15
**System Status**: âœ… Production Ready
**AI Integration**: ðŸŸ¡ Prepared (not active)
